document.addEventListener('DOMContentLoaded',()=>{const g=document.getElementById('mapGrid');const tpl=document.getElementById('mapTileTpl');const s=getState();quests.forEach(q=>{const n=tpl.content.cloneNode(true);const b=n.querySelector('button');b.textContent=q.title;const unlocked=q.id===1||s.quests.includes(q.id-1);if(unlocked){b.onclick=()=>location.href=`quest.html?id=${q.id}`;}else{b.disabled=true;}g.appendChild(n);});document.getElementById('progressBar').style.width=((s.quests.length/quests.length)*100)+'%';});
